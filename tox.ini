[tox]
envlist=py27

[pytest]
python_files=*.py
python_functions=test_
norecursedirs=.tox .git
testpaths = tests docs
python_paths = ./
basepython=python2.7

[testenv]
deps=
    pytest
    coverage
    pytest-cov
    construct
    Twisted
    zope.interface
    xmltodict
setenv=
    PYTHONWARNINGS=all
commands=
    py.test --doctest-glob='docs/*.rst' --strict --verbose --tb=long docs tests

[testenv:doctest-modules]
commands=
    py.test --doctest-modules --strict --verbose --tb=long ironman

[testenv:coverage]
commands=
    coverage run --source=ironman setup.py test
    coverage report

